#### WF::CreativeBC ############| Light associated with a Motion Sensor |############ github.com/wfurphy #####>
light_motion:
  template:
    - light
  color: auto
  variables:
    motion_entity:
    enabled_entity:
  triggers_update:
    - "[[[ return variables.__motion_entity ]]]"
  state:
    - id: cbc_on
      value: "on"
      styles:
        grid:
          - grid-template-areas: '"i i n" "i i l" "i i motion"'
          - grid-template-columns: 1fr 1fr 4fr
          - grid-template-rows: 1fr 1fr 1fr
          - justify-items: start
          - align-items: center
        label:
          - display: block
  styles:
    grid:
      - grid-template-areas: '"i i n" "i i motion"'
      - grid-template-columns: 1fr 1fr 4fr
      - grid-template-rows: 1fr 1fr
      - justify-items: start
      - padding: 6px
    name:
      - line-height: 18px
    label:
      - display: none
    custom_fields:
      motion:
        - justify-self: start
        - align-self: start
        - text-align: left
  custom_fields:
    motion:
      card:
        type: custom:button-card
        template: transparent
        entity: "[[[ return variables.motion_entity ]]]"
        # layout: icon_label
        show_name: false
        show_last_changed: true
        triggers_update:
          - "[[[ return variables.motion_entity ]]]"
          - "[[[ return variables.enabled_entity ]]]"
        # size: 20px
        state:
          - value: "on"
            icon: mdi:run-fast
            styles:
              card:
                - opactiy: 0.8
          - template: "[[[ return variables.enabled_entity && states[variables.enabled_entity].state == 'off' ]]]"
            icon: mdi:motion-pause-outline
            styles:
              card:
                - opactiy: 0.4
        icon: mdi:run
        styles:
          card:
            - overflow: visible
            - opacity: 0.4
            - margin-left: -2px
            - padding: 0
          grid:
            - grid-template-areas: '"i l"'
            - grid-template-columns: 1fr 3fr
            - grid-template-rows: 1fr
          label:
            - overflow: visible
            - justify-self: start
            - align-self: center
            - font-size: 75%
            - margin: 2px 0 0 -2px
            - text-align: left
          icon:
            - width: 18px
            - padding-right: 5px

#########################################################################/