####{ CreativeBC }####| Title |####[ github.com/wfurphy/creative-button-card-templates ]####>
# ::{ Update 0.3 }:: Added `resizable`, added info }

###################[ title_info ]#######################################################>
title_info:
  template:
    - cbcjs
    - info_mini
    - transparent
  variables:
    width: 45px
    styles:
      icon:
        - opacity: "[[[ return variables._item.opacity ?? '0.2' ]]]"
        - color: "[[[ return variables._item.color ?? 'var(--accent-color)' ]]]"

title:
  icon: 'mdi:'
  template:
    - style_helper
    - no_actions
    - resizable
  variables:
    mirror: false
    color: var(--cbc-title-color, var(--primary-background-color))
    background_color: var(--cbc-title-background-color, var(--accent-color))
    text_color: var(--cbc-title-text-color, var(--cbc-title-color, '#ffffff'))
    show_tab: false
    offset: 0
    opacity: var(--cbc-title-opacity, 0.3) # v0.3 Changed to background color opactiy not whole card ###>
    info: []
  custom_fields:
    i1:
      card:
        type: custom:button-card
        template: title_info
        entity: "[[[ return variables.info[0]?.entity ]]]"
        variables: 
          _item: "[[[ return variables.info[0] ?? '' ]]]"
          layout: "[[[ return variables.info[0]?.layout ?? 'stack' ]]]"
    i2:
      card:
        type: custom:button-card
        template: title_info
        entity: "[[[ return variables.info[1]?.entity ]]]"
        variables: 
          _item: "[[[ return variables.info[1] ?? '' ]]]"
          layout: "[[[ return variables.info[1]?.layout ?? 'stack' ]]]"
    i3:
      card:
        type: custom:button-card
        template: title_info
        entity: "[[[ return variables.info[2]?.entity ]]]"
        variables: 
          _item: "[[[ return variables.info[2] ?? '' ]]]"
          layout: "[[[ return variables.info[2]?.layout ?? 'stack' ]]]"
  styles:
    grid:
      - position: relative
      - grid-template-areas: >-
          [[[
            const ic = variables.info.length ? ' i3 i2 i1 ' : ' '
            const icm = variables.info.length ? ' i1 i2 i3 ' : ' '
            return variables.mirror ? `\"i${ic}n\"` : `\"n${icm}i\"`
          ]]]
      - grid-template-columns: >-
          [[[
            const ic = variables.info.length ? ' 1fr 1fr 1fr ' : ' '
            return variables.mirror ? `2fr${ic}5fr` : `5fr${ic}2fr`
          ]]]
      - grid-template-rows: 1fr
      - justify-items: start
      - align-items: center
      - padding: 4px
      - overflow: visible
    card:
      - cursor: default
      - --mdc-ripple-press-opacity: 0
      # - opacity: "[[[ return variables.opacity ]]]"
      - min-height: 40px
      - height: "[[[ return variables.height ?? '45px' ]]]"
      - margin-left: "[[[ return variables.offset ]]]"
      - background-color: "[[[ return `rgb(from ${variables.background_color} r g b / ${variables.opacity})` ]]]"
      - box-shadow: none
      - border: none
      - border-radius: "[[[ return variables.mirror ? '10px 0 0 10px' : '0 10px 10px 0' ]]]"
      - border: >
          [[[
            if(variables.show_tab) {
              return variables.mirror ? `0 5px 0 0 solid ${variables.color}` : `0 0 0 5px solid ${variables.color}`
            }

            return 'none'
          ]]]
      - text-align: "[[[ return variables.mirror ? 'right' : 'left' ]]]"
      - padding: 0
    name:
      - opactiy: 1
      - justify-self: "[[[ return variables.mirror ? 'end' : 'start' ]]]"
      - text-transform: uppercase
      - margin-left: 10px
      - letter-spacing: 2px
      - line-height: 18px
      - font-size: 14px
      - text-align: "[[[ return variables.mirror ? 'right' : 'left' ]]]"
      - overflow: visible
      - color: "[[[ return variables.text_color ]]]"
    icon:
      - opacity: 1
      - position: absolute
      - color: "[[[ return variables.color ]]]"
      - justify-self: "[[[ return variables.mirror ? 'start' : 'end' ]]]"
      - text-align: "[[[ return variables.mirror ? 'left' : 'right' ]]]"
      - overflow: visible
      - height: 155%
      - width: 155%
      - max-height: 500%
    custom_fields:
      i1:
        - display: "[[[ return variables.info.length && variables.info[0]?.entity ? 'block' : 'none' ]]]"
      i2:
        - display: "[[[ return variables.info.length >= 2 && variables.info[1]?.entity ? 'block' : 'none' ]]]"
      i3:
        - display: "[[[ return variables.info.length == 3 && variables.info[2]?.entity ? 'block' : 'none' ]]]"

#########################################################################/
  